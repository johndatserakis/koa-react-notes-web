(this["webpackJsonpkoa-react-notes-web"]=this["webpackJsonpkoa-react-notes-web"]||[]).push([[0],{110:function(e,t,a){e.exports=a.p+"static/media/lockup-color.0eb5265c.png"},125:function(e,t,a){e.exports=a(162)},137:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(23),o=a.n(s),c=a(62),l=a(68),i=a(67),m=a(37),u=(a(137),a(166)),p=a(165),h=a(83),d=a(110),E=a.n(d),b=function(){return n.a.createElement(u.a,{bg:"light",expand:"lg"},n.a.createElement(h.LinkContainer,{to:"/"},n.a.createElement(u.a.Brand,null,n.a.createElement("img",{src:E.a,width:"151",height:"21",className:"d-inline-block align-middle",alt:"React Bootstrap logo"}))),n.a.createElement(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(u.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(p.a,{className:"mr-auto"},n.a.createElement(h.LinkContainer,{to:"/user/login"},n.a.createElement(p.a.Link,null,"Login")),n.a.createElement(h.LinkContainer,{to:"/user/signup"},n.a.createElement(p.a.Link,null,"Signup")))))},g=function(){return n.a.createElement("footer",{className:"p-4"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12 text-center"},n.a.createElement("a",{href:"https://github.com/johndatserakis"},"Koa-React-Notes")," is a SPA using Koa (2.3) as the"," ",n.a.createElement("a",{href:"https://github.com/johndatserakis/koa-react-notes-api"},"backend")," ","and React (16.8.3) as the"," ",n.a.createElement("a",{href:"https://github.com/johndatserakis/koa-react-notes-api"},"frontend"),"."))))},k=function(){return n.a.createElement("section",{className:"pt-3"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("h1",null,n.a.createElement("strong",null,"Home")),n.a.createElement("p",null,"Here will be a check to see if you are currently logged in and your user info."),n.a.createElement("p",null,n.a.createElement("i",{className:"fa fa-info-circle fa-fw"})," This is a simple SPA built using Koa (2.5.1) as the backend and React (16.8.3) as the frontend. If you don't want to create an account you can just use demousername and demopassword to login to the app."),n.a.createElement("p",null,"This site has a sister! Visit it here -",n.a.createElement("a",{href:"https://koa-vue-notes-web.innermonkdesign.com/",target:"_blank",rel:"noopener noreferrer"},"https://koa-vue-notes-web.innermonkdesign.com/"),". It's the exact same app - but written in Vue!"),n.a.createElement("p",null,n.a.createElement("a",{href:"https://github.com/johndatserakis/koa-react-notes-web",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/badge/frontend--social.svg?style=social",alt:"Koa-React-Notes-Web Github"})),n.a.createElement("a",{href:"https://twitter.com/intent/tweet?text=Check+out+this+project+on+GitHub:+https://github.com/johndatserakis/koa-react-notes-web&url=%5Bobject%20Object%5D",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/twitter/url/https/github.com/johndatserakis/koa-react-notes-web.svg?style=social",alt:"Koa-React-Notes"})),n.a.createElement("a",{href:"https://raw.githubusercontent.com/johndatserakis/koa-react-notes-web/master/LICENSE",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/badge/license-MIT-blue.svg",alt:"Koa-React-Notes"})),n.a.createElement("a",{href:"https://github.com/johndatserakis/koa-react-notes-web/stargazers",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/github/stars/johndatserakis/koa-react-notes-web.svg",alt:"Koa-React-Notes"})),n.a.createElement("a",{href:"https://github.com/johndatserakis/koa-react-notes-web/network",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/github/forks/johndatserakis/koa-react-notes-web.svg",alt:"Koa-React-Notes"}))),n.a.createElement("p",null,n.a.createElement("a",{href:"https://github.com/johndatserakis/koa-vue-notes-api",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/badge/Backend--social.svg?style=social",alt:"Koa-React-Notes"})),n.a.createElement("a",{href:"https://twitter.com/intent/tweet?text=Check+out+this+project+on+GitHub:+https://github.com/johndatserakis/koa-vue-notes-api&url=%5Bobject%20Object%5D",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/twitter/url/https/github.com/johndatserakis/koa-vue-notes-api.svg?style=social",alt:"Koa-React-Notes"})),n.a.createElement("a",{href:"https://raw.githubusercontent.com/johndatserakis/koa-vue-notes-api/master/LICENSE",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/badge/license-MIT-blue.svg",alt:"Koa-React-Notes"})),n.a.createElement("a",{href:"https://github.com/johndatserakis/koa-vue-notes-api/stargazers",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/github/stars/johndatserakis/koa-vue-notes-api.svg",alt:"Koa-React-Notes"})),n.a.createElement("a",{href:"https://github.com/johndatserakis/koa-vue-notes-api/network",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{src:"https://img.shields.io/github/forks/johndatserakis/koa-vue-notes-api.svg",alt:"Koa-React-Notes"})))))))},f=a(39),v=a.n(f),w=a(59),N=a(55),j=a(63),T=a(167),O=function(e){var t=Object(r.useState)((function(){return Object(T.a)()})),a=Object(N.a)(t,1)[0];return n.a.createElement("button",{id:"".concat(e.name,"-").concat(a),type:"submit",className:"btn btn-green btn-block",disabled:e.loading},e.loading?n.a.createElement("span",null,e.loadingText):n.a.createElement("span",null,e.text))},_=function(e){var t=Object(j.c)({name:e.name,type:e.type}),a=Object(N.a)(t,2),s=a[0],o=a[1],c=o.error,l=o.touched,i=Object(r.useState)((function(){return Object(T.a)()})),m=Object(N.a)(i,1)[0];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-wrapper"},void 0!==e.label&&n.a.createElement("label",{htmlFor:"contactFormData-name",className:"input-wrapper__label"},e.label),n.a.createElement("input",Object.assign({type:"text",className:"form-control",id:"".concat(e.name,"-").concat(m),name:"".concat(e.name,"-").concat(m)},s,e)),l&&c?n.a.createElement("div",{className:"input-wrapper__error-message"},c):null))},S=a(118),y=a.n(S),R=a(119),x=a.n(R),K={baseURL:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,"/api/v1")},C=x.a.create(K),L=a(61),P=a.n(L),D=function(e){return function(){var t=Object(w.a)(v.a.mark((function t(a,r){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=y()(e.accessToken),a({type:"SET_USER",payload:n.data}),a({type:"SET_ACCESS_TOKEN",payload:{accessToken:e.accessToken}}),a({type:"SET_REFRESH_TOKEN",payload:{refreshToken:e.refreshToken}}),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),t.abrupt("return",Promise.resolve());case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",Promise.reject());case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(w.a)(v.a.mark((function t(a,r){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.post("user/authenticate",e);case 3:return n=t.sent,t.next=6,a(D(n.data));case 6:return t.abrupt("return",n.data);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",Promise.reject((r=t.t0).response?{error:{code:r.response.status,message:"Yes axios error"}}:{error:{code:500,message:(!P.a.env.NODE_ENV||"production"!==P.a.env.NODE_ENV&&"test"!==P.a.env.NODE_ENV)&&r.message||"Internal Server Error"}}));case 12:case"end":return t.stop()}var r}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},H=a(84),A=H.a({username:H.b().required("Required"),password:H.b().required("Required").min(8,"Password must be at least 6 characters")}),B={username:"demousername",password:"demopassword"},U=function(){var e=Object(c.c)((function(e){return e.user})),t=Object(r.useState)(!1),a=Object(N.a)(t,2),s=a[0],o=a[1],i=Object(l.useToasts)().addToast,m=Object(c.b)(),u=function(){var e=Object(w.a)(v.a.mark((function e(t,a){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,m(I(t));case 4:r=e.sent,console.log(r),a.resetForm(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),(n=e.t0)&&(n.error||n.errors),i("Hmm, those details don't seem right. Please try again.",{appearance:"error",autoDismiss:!0});case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,9,14,17]])})));return function(t,a){return e.apply(this,arguments)}}();return n.a.createElement("section",{className:"pt-3"},JSON.stringify(e),n.a.createElement(j.b,{initialValues:B,onSubmit:u,validationSchema:A},n.a.createElement(j.a,null,n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-lg-5"},n.a.createElement("h1",null,"Login")),n.a.createElement("div",{className:"w-100"}),n.a.createElement("div",{className:"col-lg-5"},n.a.createElement(_,{name:"username",type:"text",label:"Username (Email)"})),n.a.createElement("div",{className:"w-100"}),n.a.createElement("div",{className:"col-lg-5"},n.a.createElement(_,{name:"password",type:"password",label:"Password"})),n.a.createElement("div",{className:"w-100"}),n.a.createElement("div",{className:"col-lg-5"},n.a.createElement(O,{name:"login-submit-button",text:"Login",loading:s,loadingText:"Logging in ..."}))))))},V=function(){return n.a.createElement("section",{className:"pt-3"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement(U,null)))))},F=function(){return n.a.createElement(i.BrowserRouter,null,n.a.createElement("div",{className:"page-wrapper"},n.a.createElement(b,null),n.a.createElement("div",{className:"main-content-wrapper",role:"main","aria-label":"Main"},n.a.createElement(m.g,null,n.a.createElement(m.d,{exact:!0,path:"/",component:k}),n.a.createElement(m.d,{path:"/user/login",component:V}))),n.a.createElement(g,null)))},W=a(40),q=a(121),M=a(122),G=a(56),J={user:{id:0,token:"",username:"",email:""},userTokens:{accessToken:"",refreshToken:""}},z=Object(W.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(G.a)({},e,{user:t.payload});case"SET_ACCESS_TOKEN":return Object(G.a)({},e,{userTokens:Object(G.a)({},e.userTokens,{accessToken:t.payload})});case"SET_REFRESH_TOKEN":return Object(G.a)({},e,{userTokens:Object(G.a)({},e.userTokens,{refreshToken:t.payload})});default:return e}}});o.a.render(n.a.createElement(c.a,{store:function(){var e=[q.a],t=W.applyMiddleware.apply(void 0,e);return Object(W.createStore)(z,Object(M.composeWithDevTools)(t))}()},n.a.createElement(l.ToastProvider,null,n.a.createElement(F,null))),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.ae6ef90d.chunk.js.map